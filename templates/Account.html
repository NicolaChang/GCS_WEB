<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Management</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <meta http-equiv='cache-control' content='no-store'>
    <meta http-equiv='expires' content='no-store'>
    <meta http-equiv='pragma' content='no-store'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous"></script>
</head>
<body>
    <style>
        *{ margin: 0;padding: 0; font-family: 'Courier New', Courier, monospace,sans-serif;}
        body{background-image: url(https://topologyuav.com:5003/static/img/BGimage.png); background-repeat: no-repeat; background-attachment: fixed;background-position: center;background-size: cover;}
        header{display: block;margin: auto;padding: 10px;}
        header h1{color: aliceblue; font-size: 52px;display: inline-block;vertical-align: top;margin: 0 10px;}
        header ul {  display: block;  text-align: right; float: right; font-size: 23px;  display: flex; list-style: none; right: 5px; top: 10px;}
        header li { background-color: rgba(256, 256, 256, 0.6); margin: 10px; top: 20px; padding: 5px; border-radius: 30%;}
        header li a { color: #360ee7b7;text-decoration: none;}
        header li a:hover { color: #0f2e29; font-weight: bolder;}
        form #ADrone > div {background-color: #d2dad2;margin: 15px 5px 10px 10px;width: 300px;height: 300px;text-align: center;float: left;border-radius: 25%;background-color: rgba(256, 256, 256, 0.5);}
        form #ADrone > div:hover{transform: scale(1,1.05);}
        h3{color: aliceblue; font-size: 30px; text-align: center; margin: 0 0 5px 0;}
        a{text-decoration: none; color: black;}
        #ADimg,#Drone_img{margin: 15px 0 ; width:200px; height:200px;}
        section{ flex-wrap: nowrap;}
    </style>
    <header>
        <h1>帳戶管理系統</h1>
        <ul>
            <li><a href="https://topologyuav.com:5003/Mange/">返回</a></li> 
            <li><a href="https://topologyuav.com:5003/Logout/">登出</a></li>    
        </ul>
    </header>
    <section>
        <form method="post" action="/AMange/" id="sections" >
            <div id="ADrone">
                <h3 name="DName_ls" value="" ></h3>
            </div>
        </form>
    </section>
    <!-- <script>
        //不指定回傳值
        console.log("{{DName_ls}}","無人機名稱test");
        console.log(typeof("{{DName_ls}}"));   
        var Anamelen = "{{DName_ls}}".replaceAll("(","").replaceAll(")","").replaceAll("&#39;","").replaceAll("[","").replaceAll("]","").split(",");  
        $(document).ready(function(){
            $("#ADrones").empty();
            console.log(Anamelen[0],"Tests");   
            for (i=0; i<Anamelen.length; i++){
                if(i % 2 == 0){
                    $("#ADrones").append('<div id="ADrone" onmouseover=ANA()>'+
                        '<a href="http://59.120.184.123:5000/AMange/Dinfo/">'+
                        '<img id="ADimg" src="http://59.120.184.123:5000/static/img/Drone.png" alt="無人機">'+
                        '<h3 id="hname" value="Anamelen[i]">'+Anamelen[i]+'</h3>'+
                        '</a>'+'</div>');
                };
            }
            if (Anamelen[0] == '[No drone&#39;'){
                $(".Account").empty();
            }; 
            if (Anamelen[0] == ''){
                $(".Account").empty();
            };
        })
        var CC = $('#hname').val();  
        function ANA(){
                var naid = {'Dname': CC,'Duuid':Anamelen[1]} ;
                console.log(CC);     
                console.log(naid,"naid");
                $.ajax({
                    url:'http://59.120.184.123:5000/AMange/',
                    type: 'post', // 用POST or GET的方式
                    method:'POST',
                    dataType: 'json',  // 資料的格式
                    data: naid, // 傳送給後端的資料
                    async: false, // 是否開啟同步非同步請求
                });
            }
    </script> -->
    <script>
        var Anamelen = "{{DName_ls}}".replaceAll("(","").replaceAll(")","").replaceAll("&#39;","").replaceAll("[","").replaceAll("]","").split(",");   
        $(document).ready(function(){
            $("#ADrone").empty();
            console.log(Anamelen[0]);   
            for (i=0; i<Anamelen.length; i++){
                if(i % 2 == 0){
                    $("#ADrone").append('<div id="ADrones">'+
                        '<a href="https://topologyuav.com:5003//AMange/Dinfo/">'+
                        '<img id="ADimg" src="https://topologyuav.com:5003/static/img/Drone.png" alt="無人機">'+'</a>'+
                        '<h3>'+Anamelen[i]+'</h3>'+
                        '</div>')}};
            if (Anamelen[0] == '[No drone&#39;'){
                $("#sections").empty();
            } 
            if (Anamelen[0] == ''){
                $("#sections").empty();
            } 
            if (Anamelen[0] == '&#39;&#39;'){
                $("#sections").empty();
            }
        })
    </script>
</body>
</html>